<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Make A Difference Engine</title>
    <link rel="stylesheet" href="blueprint/screen.css" type="text/css" media="screen, projection">
	<script src="jquery-1.7.min.js"></script>
	<script type="text/javascript" src="jquery-ui/js/jquery-ui-1.8.16.custom.min.js"></script>
	<style>
	.dev {
	    border: 1px #aaa dotted;
    }
    .chunk_container {
        width: 500px;
        padding: 10px;
    }
    
    .headline {
        text-align: center;
    }
    
	</style>
	<script>
	var chunks = new Array("chunk0", "chunk1", "chunk2");

	function update_position(){
	    var template = "CHUNK: (TOP, LEFT)\n";
	    var text = '';
        var chunk_container;

        for (var i = 0; i < chunks.length; i++)
	    {
	        var position = $('#' + chunks[i]).offset();
	        var temp = template;
	        text += temp.replace('CHUNK', chunks[i]).replace('TOP', position.top).replace('LEFT', position.left);
        }

        $('#report').text(text);
    }
	$(function(){

        for (var i = 0; i < chunks.length; i++)
	    {
	        var chunk = $('#' + chunks[i]);
	        console.log("Making " + chunks[i] + " draggable.");
	        chunk.draggable({ grid: [40, 20] });
            
	        var chunk_frame = $('#' + chunks[i] + ' iframe');
            if(chunk_frame) {
                chunk.width(chunk_frame.width());
            }
            $(chunk).bind("drag", update_position);
	    }
    })
    </script>
</head>
<body class="showgrid">
    <div id="chunk0" class="dev chunk_container">
        <h1 class="headline">Make A Difference Engine</h1>
    </div>
    
    <div id="chunk1" class="dev chunk_container">
        <iframe id="frame_chunk1" src="blogpost.html"></iframe>
    </div>

    <div id="chunk2" class="dev chunk_container">
        <iframe id="frame_chunk2" src="anne-hathaway-1600x1200-004.jpg"></iframe>
    </div>

<textarea id="report">
</textarea>

</body>
</html>